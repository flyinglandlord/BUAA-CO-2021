# Pre课上测试游记

> 万万不可脑抽

首先是吐槽：北区机房的电脑屏幕太暗，键盘的手感太差

然后是表扬：助教很负责（~~但是我根本没做完，所以也没有问答环节~~），电脑带的环境很多（~~我甚至找到了Clion，但是没啥用~~），很流畅，没有死机（~~比新主楼的好~~），没有异常退出，不知如果Python在这写会不会好点

开始考试，点开题，卧槽，为啥还有选择，发现根本不会，迅速蒙过去（~~还好不算分~~）

交了一题，发现，草，只能交一次，遂打开Logisim开始模拟电路图，用ISE检查语法格式，还好35min切完选择

## 选择题部分

选择题考察的内容还是挺细致的，有Bit Extender的实现方法：Splitter+Constant和直接用Bit Extender，~~但是我找遍了Logisim也没有找到Bit Extender~~，有逻辑电路的化简，直接扔给Logisim去做就完了（~~但是这一题我还手抖选错了~~），状态数量的判断（心情电路，课后题改），剩下的没啥印象了

## 大题部分

看完选择题立马去切T1，T1是个Logisim组合，看上去好麻烦，貌似可以用位运算，我直接上暴力解，直接用Splitter把低4位高4位分开，然后低四位用比较器比较跟`0011,0101,0110,1001,1010,1100,0111,1011,1101,1110,1111`是否相等，高四位跟输入的掩码或一下看是不是1，两者再与一下，然后输出就好了，不到30min切完一遍过

（题面等有了再补上）

然后去切T2，不出意料是个字符自动机，然后迅速画完状态图开始写，~~结果是噩梦的开始~~

首先我一上来就错了，也许是好长时间没写字符自动机了，或许是认为没有重复字符计数很简单，直接忘记了考虑转移回首字母时需要直接比较第2个字符（所谓的KMP算法，失配数组），30min写完之后开始调，怎么也调不过小样例，遂想到许多奇怪的方法，比如加了一个MagicC状态，后来调了30min后意识到，MagicC不就是ErrorC，失配字符如果是首字母直接比第二个得了，然后改过之后交了一发，全WA，崩溃ing，这时想需要喝口水冷静下，但是并不能去上厕所（~~差评~~）

构造几个样例，发现过不去，已经有点慌了，但是最大的问题还没被发现（~~我看错题了~~），遂停止，去切T3，T3是个极简单的汇编，甚至给出了C代码，10min写完，5min调完，一遍过后，回去读T2

（同样题面回头补）

越读T2越发现理解错题意了，首先`cscore`之间的空格是可以接受的，然后`cscore`中间出现别的字符cnt清零，但是**每次输出要保留最大值**，离考试结束还有1h，我才发现读错题了

然后重新画状态图，但是实在不敢重构代码，遂修改，越改越乱，离考试结束还有25min，放弃（~~反正不算成绩~~）

下面来看一下大毒瘤T2，经典字符自动机

> 你的任务是在输入字符串中匹配正则表达式`(c|C)(s|S)(c|C)(o|O)(r|R)(e|E)`的字符串，并统计其连续出现的最大次数并输出，这里的连续出现是指：字符串首尾相接，字符串之间由一个或若干个空格连接（本题reset采用异步复位）

首先第一个让我困惑的问题是字符串`cs core`是否符合题意，当我WA掉的时候，我是朝这个方向想的，浪费了大量时间，~~最后我也不知道它是否符合题意，估计不符合吧~~

然后转移时，务必注意前缀，所谓字符自动机，就类似于构造一个AC自动机，失配指针的位置要指对

最后点评：毒瘤题，但是只是我脑抽了，以及细节太多，其实估计不难

（~~不知道还有机会补题不，我非给他过了不可，本题编码不难，但是ISE是真的难用~~）

